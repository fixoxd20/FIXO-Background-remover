<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FIXO PLP DESIGN  - Design Sharing</title>
    <!-- Use Tailwind CSS for modern, responsive styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Define custom keyframe animations for a more polished look */
        @keyframes pulse-like {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
        }

        @keyframes slide-in-comments {
            from {
                transform: translateY(100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        /* Add a custom animation class to the button */
        .like-button-anim:active {
            animation: pulse-like 0.3s ease-in-out;
        }

        /* The comments section is hidden by default and animated when shown */
        .comments-section {
            display: none;
            animation: slide-in-comments 0.3s ease-out forwards;
        }

        .comments-section.active {
            display: block;
        }
    </style>
</head>
<body class="bg-gray-950 text-gray-100 font-sans min-h-screen antialiased">

    <!-- Header Section with a title and a mock upload button -->
    <header class="flex items-center justify-between p-4 md:p-6 lg:p-8 bg-gray-900 shadow-lg sticky top-0 z-10">
        <h1 class="text-3xl md:text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-600">
            FIXO PLP DESIGN 
        </h1>
        <button class="px-4 py-2 bg-purple-600 hover:bg-purple-700 text-white font-semibold rounded-full shadow-lg transition-all duration-300 transform hover:scale-105">
            Upload
        </button>
    </header>

    <!-- Main content grid to display the design cards -->
    <main class="p-4 md:p-8 lg:p-12">
        <div id="posts-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 md:gap-8 lg:gap-10">
            <!-- Post cards will be dynamically inserted here by JavaScript -->
        </div>
    </main>

    <script>
        // Use a self-invoking async function to run the code after the page loads.
        (async function() {
            // Mock data to simulate posts from a database.
            // In a real application, you would fetch this from a server.
            const mockPosts = [
                {
                    id: 1,
                    imageUrl: "https://placehold.co/400x600/10b981/FFFFFF?text=Design+1",
                    title: "Abstract Waves",
                    likes: 12,
                    comments: ["Love the colors!", "Can't wait to try this PLP file."],
                },
                {
                    id: 2,
                    imageUrl: "https://placehold.co/600x400/3b82f6/FFFFFF?text=Design+2",
                    title: "Futuristic Cityscape",
                    likes: 25,
                    comments: ["Amazing detail!", "Thanks for sharing!", "Looks great, thanks!"],
                },
                {
                    id: 3,
                    imageUrl: "https://placehold.co/500x700/f87171/FFFFFF?text=Design+3",
                    title: "Retro Typography",
                    likes: 8,
                    comments: ["Clean design."],
                },
                {
                    id: 4,
                    imageUrl: "https://placehold.co/700x500/a855f7/FFFFFF?text=Design+4",
                    title: "Geometric Patterns",
                    likes: 31,
                    comments: ["Very creative!", "Awesome textures.", "Beautifully done."],
                },
                {
                    id: 5,
                    imageUrl: "https://placehold.co/600x600/f9a8d4/FFFFFF?text=Design+5",
                    title: "Vibrant Mandala",
                    likes: 19,
                    comments: ["So detailed!", "This is amazing."],
                },
            ];

            const postsContainer = document.getElementById('posts-container');

            /**
             * Generates the HTML string for a single post card.
             * @param {object} post - The post data object.
             * @returns {string} The HTML string.
             */
            function createPostCardHTML(post) {
                // Determine if a post has already been liked to apply the correct color.
                const isLiked = localStorage.getItem(`post-${post.id}-liked`) === 'true';
                const likeBtnColor = isLiked ? 'bg-pink-600 text-white' : 'bg-gray-800 text-gray-300';
                
                return `
                    <div class="relative overflow-hidden rounded-3xl shadow-2xl group cursor-pointer transform hover:scale-105 transition-transform duration-300 ease-in-out" data-post-id="${post.id}">
                        <!-- The main image of the post -->
                        <img src="${post.imageUrl}" alt="${post.title}" class="w-full h-auto object-cover rounded-3xl transition-opacity duration-300 group-hover:opacity-75">

                        <!-- Overlay content with title and buttons -->
                        <div class="absolute inset-0 bg-black bg-opacity-40 flex flex-col justify-end p-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                            <div class="flex justify-between items-end">
                                <!-- Like and Comment buttons -->
                                <div class="flex space-x-2">
                                    <button class="like-button like-button-anim p-2 rounded-full transition-all duration-200 transform hover:scale-110 ${likeBtnColor}" title="Like">
                                        <!-- Heart icon SVG -->
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                            <path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd" />
                                        </svg>
                                    </button>
                                    <button class="comment-button p-2 rounded-full bg-gray-800 text-gray-300 hover:bg-blue-500 transition-all duration-200 transform hover:scale-110" title="Comments">
                                        <!-- Comment icon SVG -->
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                                            <path d="M2 5a2 2 0 012-2h12a2 2 0 012 2v6a2 2 0 01-2 2H8l-4 4v-4H2a2 2 0 01-2-2V5z" />
                                        </svg>
                                    </button>
                                </div>
                                <!-- Download button -->
                                <button class="bg-purple-600 hover:bg-purple-700 text-white text-xs font-semibold px-3 py-1 rounded-full transition-colors duration-200">
                                    Download PLP
                                </button>
                            </div>
                        </div>
                        
                        <!-- Visible details section at the bottom -->
                        <div class="absolute bottom-0 left-0 right-0 p-4 bg-gray-900 bg-opacity-70 backdrop-filter backdrop-blur-md rounded-b-3xl transform translate-y-full group-hover:translate-y-0 transition-transform duration-300 ease-in-out">
                            <h3 class="text-xl font-bold mb-1">${post.title}</h3>
                            <p class="text-sm text-gray-400"><span class="like-count">${post.likes}</span> Likes</p>
                        </div>

                        <!-- Collapsible comments section -->
                        <div class="comments-section absolute bottom-0 left-0 right-0 p-4 bg-gray-900 rounded-b-3xl">
                            <h4 class="font-semibold text-gray-300 mb-2">Comments:</h4>
                            <ul class="text-sm text-gray-400 max-h-24 overflow-y-auto">
                                ${post.comments.length > 0 
                                    ? post.comments.map(comment => `<li>${comment}</li>`).join('')
                                    : '<li>No comments yet.</li>'
                                }
                            </ul>
                        </div>
                    </div>
                `;
            }

            /**
             * Renders all posts to the page and attaches event listeners.
             */
            function renderPosts() {
                postsContainer.innerHTML = mockPosts.map(createPostCardHTML).join('');
                
                // Add event listeners for the like and comment buttons on each card.
                document.querySelectorAll('.like-button').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const card = e.target.closest('[data-post-id]');
                        if (!card) return;

                        const postId = parseInt(card.dataset.postId);
                        const post = mockPosts.find(p => p.id === postId);
                        if (!post) return;

                        // Check the current liked state from local storage.
                        const isLiked = localStorage.getItem(`post-${postId}-liked`) === 'true';
                        
                        if (isLiked) {
                            // If already liked, unlike the post.
                            post.likes--;
                            localStorage.setItem(`post-${postId}-liked`, 'false');
                            button.classList.remove('bg-pink-600', 'text-white');
                            button.classList.add('bg-gray-800', 'text-gray-300');
                        } else {
                            // If not liked, like the post.
                            post.likes++;
                            localStorage.setItem(`post-${postId}-liked`, 'true');
                            button.classList.remove('bg-gray-800', 'text-gray-300');
                            button.classList.add('bg-pink-600', 'text-white');
                        }

                        // Update the like count displayed on the page.
                        const likeCountSpan = card.querySelector('.like-count');
                        if (likeCountSpan) {
                            likeCountSpan.textContent = post.likes;
                        }
                    });
                });

                document.querySelectorAll('.comment-button').forEach(button => {
                    button.addEventListener('click', (e) => {
                        const card = e.target.closest('[data-post-id]');
                        if (!card) return;

                        const commentsSection = card.querySelector('.comments-section');
                        if (commentsSection) {
                            // Toggle the 'active' class to show/hide the comments.
                            commentsSection.classList.toggle('active');
                        }
                    });
                });
            }

            // Initial rendering of the posts
            renderPosts();

        })();
    </script>
</body>
</html>
            border: 2px dashed rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            position: relative;
            transition: all 0.5s ease;
            opacity: 0;
            transform: scale(0.9);
            animation: fadeInScaleUp 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55) forwards;
            animation-delay: 0.2s;
        }

        .image-preview {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            border-radius: 10px;
            transition: all 0.5s ease;
            background-size: 15px 15px;
            background-image: linear-gradient(45deg, #ccc 25%, transparent 25%), linear-gradient(-45deg, #ccc 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #ccc 75%), linear-gradient(-45deg, transparent 75%, #ccc 75%);
            background-position: 0 0, 0 15px, 15px -15px, -15px 0px;
        }

        .image-preview-container.hidden {
            display: none;
        }

        .loading-animation {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            opacity: 0;
            transition: opacity 0.5s ease;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .loading-animation.visible {
            opacity: 1;
        }

        .loading-spinner {
            color: #2575fc;
            font-size: 3em;
            animation: spin 1.5s linear infinite;
        }
        
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .message-box {
            background-color: rgba(255, 0, 0, 0.1);
            color: #d63031;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            width: 100%;
            box-sizing: border-box;
            opacity: 0;
            transform: translateY(-10px);
            transition: opacity 0.3s ease, transform 0.3s ease;
            margin-top: 10px;
        }

        .message-box.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            width: 100%;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 600;
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
            box-shadow: var(--button-shadow);
        }

        .btn-process {
            background: var(--button-primary);
            color: white;
        }

        .btn-download {
            background-color: #f7f7f7;
            color: #2575fc;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 20px rgba(0, 0, 0, 0.2);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Keyframes for animations */
        @keyframes fadeInScaleUp {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
    </style>
</head>
<body>

    <div class="container" id="app-container">
        <h1>Image Background Remover</h1>
        <p>Upload an image and let the magic happen!</p>

        <div class="file-upload-container">
            <input type="file" id="file-input" accept="image/*">
            <label for="file-input" class="upload-btn">
                <i class="fas fa-cloud-upload-alt"></i> Upload Image
            </label>
        </div>

        <div class="image-preview-container" id="image-preview-container">
            <!-- Placeholder content will be replaced by the image -->
            <p>Your image will appear here</p>
            <img id="image-preview" class="image-preview" src="" alt="Image Preview">
            <div class="loading-animation" id="loading-animation">
                <i class="fas fa-spinner loading-spinner"></i>
                <span>Processing...</span>
            </div>
        </div>

        <div class="message-box" id="message-box"></div>

        <div class="action-buttons">
            <button class="btn btn-process" id="remove-btn" disabled>Remove Background</button>
            <button class="btn btn-download" id="download-btn" disabled>Download Image</button>
        </div>

    </div>
  <div class="xx">
  <h5>ᴅᴇᴠᴇʟᴏᴘᴇᴅ ʙʏ ꜰɪxᴏ xᴅ</h5>
  </div>
  
    <script>
        // Get all the necessary DOM elements
        const fileInput = document.getElementById('file-input');
        const uploadBtn = document.querySelector('.upload-btn');
        const removeBtn = document.getElementById('remove-btn');
        const downloadBtn = document.getElementById('download-btn');
        const imagePreview = document.getElementById('image-preview');
        const previewContainer = document.getElementById('image-preview-container');
        const loadingAnimation = document.getElementById('loading-animation');
        const messageBox = document.getElementById('message-box');
        const appContainer = document.getElementById('app-container');

        let uploadedFile = null;
        let processedImageUrl = null;

        /**
         * Shows a message to the user in a styled box instead of using alert().
         * @param {string} message - The message to display.
         * @param {string} type - 'success' or 'error' to change the color.
         */
        function showMessage(message, type = 'error') {
            messageBox.textContent = message;
            messageBox.style.backgroundColor = type === 'error' ? 'rgba(255, 0, 0, 0.1)' : 'rgba(0, 128, 0, 0.1)';
            messageBox.style.color = type === 'error' ? '#d63031' : '#0a520a';
            messageBox.classList.add('visible');
            setTimeout(() => {
                messageBox.classList.remove('visible');
            }, 5000);
        }

        /**
         * Handles the file upload event.
         */
        fileInput.addEventListener('change', (event) => {
            const file = event.target.files[0];
            if (!file) {
                return;
            }

            // Check if the file is an image
            if (!file.type.startsWith('image/')) {
                showMessage('Please upload an image file.', 'error');
                return;
            }

            uploadedFile = file;
            const reader = new FileReader();

            reader.onload = (e) => {
                // Set the preview image source to the uploaded file's data URL
                imagePreview.src = e.target.result;
                imagePreview.style.display = 'block';
                // Hide the placeholder text
                previewContainer.querySelector('p').style.display = 'none';
                
                // Show the preview container with a subtle animation
                previewContainer.style.opacity = '1';
                previewContainer.style.transform = 'scale(1)';

                // Enable the remove background button
                removeBtn.disabled = false;
                downloadBtn.disabled = true;
            };

            reader.readAsDataURL(file);
        });

        /**
         * Handles the "Remove Background" button click.
         */
        removeBtn.addEventListener('click', async () => {
            if (!uploadedFile) {
                showMessage('Please upload an image first.', 'error');
                return;
            }

            // Disable buttons and show processing state
            removeBtn.disabled = true;
            downloadBtn.disabled = true;
            appContainer.classList.add('processing');
            previewContainer.classList.add('hidden');
            loadingAnimation.classList.add('visible');
            
            // --- BACKEND PROCESSING SIMULATION ---
            // THIS IS THE PART WHERE YOU WOULD SEND THE IMAGE TO YOUR SERVER
            // AND RECEIVE THE PROCESSED IMAGE BACK.
            // Example of what the code would look like:
            
            // const formData = new FormData();
            // formData.append('image', uploadedFile);
            
            // try {
            //     const response = await fetch('YOUR_BACKEND_API_ENDPOINT', {
            //         method: 'POST',
            //         body: formData
            //     });
            //     if (!response.ok) {
            //         throw new Error('Image processing failed.');
            //     }
            //     const blob = await response.blob();
            //     processedImageUrl = URL.createObjectURL(blob);
            // } catch (error) {
            //     console.error('Error:', error);
            //     showMessage('An error occurred. Please try again.', 'error');
            //     // Reset UI on error
            //     loadingAnimation.classList.remove('visible');
            //     previewContainer.classList.remove('hidden');
            //     appContainer.classList.remove('processing');
            //     removeBtn.disabled = false;
            //     return;
            // }

            // For this example, we'll simulate a 3-second processing time
            // and use a placeholder image for the result.
            
            // IMPORTANT: The backend would use a library like `rembg` in Python
            // to process the image and return a new image file with a transparent background.

            setTimeout(() => {
                loadingAnimation.classList.remove('visible');
                
                // Set a fake processed image URL for the example
                processedImageUrl = 'https://placehold.co/400x400/00000000/000000?text=Transparent';
                
                // The `rembg` library will give you a result with a transparent background.
                // We'll use a placeholder for that effect. The image needs to be a PNG
                // with transparency to work correctly.
                imagePreview.src = processedImageUrl;

                // Animate the result back in
                previewContainer.classList.remove('hidden');
                appContainer.classList.remove('processing');
                
                // Re-enable download button and show success message
                downloadBtn.disabled = false;
                showMessage('Background removed successfully!', 'success');
            }, 3000); // Simulate network and processing time
        });

        /**
         * Handles the "Download Image" button click.
         */
        downloadBtn.addEventListener('click', () => {
            if (!processedImageUrl) {
                showMessage('No processed image to download.', 'error');
                return;
            }

            // Create a temporary anchor element to trigger the download
            const a = document.createElement('a');
            a.href = processedImageUrl;
            a.download = 'processed-image.png'; // Give the downloaded file a name
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            
            showMessage('Downloading your image...', 'success');
        });

    </script>
</body>
</html>
